<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="Container Management in Home Lab - Portainer, Dockge &amp; Yacht" /><meta property="og:locale" content="en" /><meta name="description" content="Reasoning &amp; Candidates" /><meta property="og:description" content="Reasoning &amp; Candidates" /><link rel="canonical" href="https://tanishq.page/blog/posts/homelab-container-mgmt/" /><meta property="og:url" content="https://tanishq.page/blog/posts/homelab-container-mgmt/" /><meta property="og:site_name" content="Tanishq Rupaal" /><meta property="og:image" content="https://tanishq.page/blog/assets/img/covers/homelab-cover.jpeg" /><meta property="og:image:alt" content="HomeLab Artwork" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-05-07T00:46:00-04:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://tanishq.page/blog/assets/img/covers/homelab-cover.jpeg" /><meta name="twitter:image:alt" content="HomeLab Artwork" /><meta property="twitter:title" content="Container Management in Home Lab - Portainer, Dockge &amp; Yacht" /><meta name="twitter:site" content="@etheriosking" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-05-07T00:46:00-04:00","datePublished":"2023-05-07T00:46:00-04:00","description":"Reasoning &amp; Candidates","headline":"Container Management in Home Lab - Portainer, Dockge &amp; Yacht","image":{"alt":"HomeLab Artwork","url":"https://tanishq.page/blog/assets/img/covers/homelab-cover.jpeg","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://tanishq.page/blog/posts/homelab-container-mgmt/"},"url":"https://tanishq.page/blog/posts/homelab-container-mgmt/"}</script><title>Container Management in Home Lab - Portainer, Dockge & Yacht | Tanishq Rupaal</title><link rel="apple-touch-icon" sizes="180x180" href="/blog/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/blog/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/blog/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/blog/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/blog/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Tanishq Rupaal"><meta name="application-name" content="Tanishq Rupaal"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/blog/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/blog/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/blog/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/blog/assets/js/dist/post.min.js"></script> <script defer src="/blog/app.min.js?baseurl=/blog&register=true" ></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-B88HEPZBVJ"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-B88HEPZBVJ'); }); </script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/blog/" id="avatar" class="rounded-circle"><img src="/blog/assets/Abstract.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/blog/">Tanishq Rupaal</a><p class="site-subtitle fst-italic mb-0">Cybersecurity Professional</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/blog/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/blog/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/blog/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/blog/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/blog/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/tanq16" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://twitter.com/etheriosking" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fab fa-twitter"></i> </a> <a href="javascript:location.href = 'mailto:' + ['dragonking47','proton.me'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="https://linkedin.com/in/tanishqrupaal" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/blog/">Home</a> </span> <span>Container Management in Home Lab - Portainer, Dockge & Yacht</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>Container Management in Home Lab - Portainer, Dockge & Yacht</h1><div class="post-meta text-muted"> <span> Posted <time data-ts="1683434760" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > May 7, 2023 </time> </span><div class="mt-3 mb-3"> <a href="/blog/assets/img/covers/homelab-cover.jpeg" class="popup img-link preview-img shimmer"><img src="/blog/assets/img/covers/homelab-cover.jpeg" alt="HomeLab Artwork" width="1200" height="630" loading="lazy"></a><figcaption class="text-center pt-2 pb-2">HomeLab Artwork</figcaption></div><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/etheriosking">Tanishq Rupaal</a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="1282 words" > <em>7 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">Container Management in Home Lab - Portainer, Dockge & Yacht</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">Contents</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">Container Management in Home Lab - Portainer, Dockge & Yacht</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"><h2 id="reasoning--candidates"><span class="me-2">Reasoning &amp; Candidates</span><a href="#reasoning--candidates" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Home Labs come in different shapes and sizes. We could have a multi-node setup running Kubernetes and a couple of other servers running Proxmox with specialized virtual machines and containers, all interacting with each other over TLS; or it can be a simple raspberry pi running a single docker container like Plex or PiHole. But irrespective of the size of a home lab, the intention is - to make your home network cool and automate some parts of your life or improve experiences related to your everyday activities. With this intent in mind, a container management service can help debug issues and observe logs, manage running services by spinning them up or down, obtain command line access to running containers, and organize and monitor all the images/volumes/containers from an eagle-eyed view.</p><p>All of this can make our home lab life easy. So, it’s another quality of life improvement. IMO, the two best container management services that have the most engaging communities are <a href="https://www.portainer.io">Portainer</a> and <a href="https://yacht.sh">Yacht</a>. Another one that popped up in the end of 2023 is <a href="https://github.com/louislam/dockge/tree/master">Dockge</a>.</p><p>All these services offer installation via Docker and provide helpful information sets and container management toolsets. One can even end up running all of them together! The main differences are as follows →</p><ul><li>Portainer initially started as built-for-containers but slowly expanded its horizons to other technologies like remote host Docker container management, Docker Swarm management, and Kubernetes cluster management; whereas Yacht and Dockge are purpose-built for containers.<li>Portainer is well established and has a business offering with advanced features while Yacht and Dockge are relatively new and have a limited but refined feature set.<li>Portainer also provides the ability to exec into customers directly from the web UI, even in the community version. Dockge supports the same functionality.</ul><p>My choice here is Portainer for three reasons - to deploy using the latest Docker compose plugin, the ability to exec into containers directly from within the browser, and expand control to a Kubernetes cluster or Docker Swarm. However, after learning about Dockge, I also shifted to that <em>instead</em> of Portainer because it just turned out to be very straightforward and provided me exactly the feature set I wanted.</p><h2 id="deployment"><span class="me-2">Deployment</span><a href="#deployment" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="portainer"><span class="me-2">Portainer</span><a href="#portainer" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>First, setup a local config directory as follows →</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">mkdir</span> <span class="nt">-p</span> <span class="nv">$HOME</span>/portainer
</pre></table></code></div></div><p>Then launch the container as follows →</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>docker run <span class="nt">-d</span> <span class="se">\</span>
<span class="nt">-p</span> 8000:8000 <span class="nt">-p</span> 9443:9443 <span class="se">\</span>
<span class="nt">--name</span> portainer <span class="se">\</span>
<span class="nt">-v</span> /var/run/docker.sock:/var/run/docker.sock <span class="se">\</span>
<span class="nt">-v</span> <span class="nv">$HOME</span>/portainer:/data <span class="se">\</span>
portainer/portainer-ce:latest
</pre></table></code></div></div><p>Then access the service on port 9443 and set up a strong password. Portainer has the concept of environments. The machine that the Portainer container is deployed on becomes the local environment. The most common way of adding new environments is to deploy a Portainer image in the other machines, which will sync to the main server in the local environment. The Portainer Agent can be deployed as follows on the other machines →</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>docker run <span class="nt">-d</span> <span class="se">\</span>
<span class="nt">-p</span> 9001:9001 <span class="se">\</span>
<span class="nt">--name</span> portainer_agent <span class="se">\</span>
<span class="nt">-v</span> /var/run/docker.sock:/var/run/docker.sock <span class="se">\</span>
<span class="nt">-v</span> /var/lib/docker/volumes:/var/lib/docker/volumes <span class="se">\</span>
portainer/agent
</pre></table></code></div></div><p>After that, add the agent to the container UI deployed via the local environment.</p><h3 id="dockge"><span class="me-2">Dockge</span><a href="#dockge" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>First, setup a local config directory. Unlike the rest, for this one, certain reasons demand creation of a directory in <code class="language-plaintext highlighter-rouge">/opt</code>. There could be ways to get around that but it’s fruitless effort. So I do the following →</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo mkdir</span> <span class="nt">-p</span> /opt/dockge/<span class="o">{</span>data,stacks<span class="o">}</span>
</pre></table></code></div></div><p>Then setup the container with a docker run command as follows →</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>docker run <span class="nt">--name</span> dockge <span class="nt">--rm</span> <span class="nt">-d</span> <span class="se">\</span>
<span class="nt">-v</span> /var/run/docker.sock:/var/run/docker.sock <span class="se">\</span>
<span class="nt">-v</span> /opt/dockge/data:/app/data <span class="se">\</span>
<span class="nt">-v</span> /opt/dockge/stacks/:/opt/dockge/stacks/ <span class="se">\</span>
<span class="nt">-e</span> <span class="nv">DOCKGE_STACKS_DIR</span><span class="o">=</span>/opt/dockge/stacks <span class="se">\</span>
<span class="nt">-p</span> 9441:5001 <span class="se">\</span>
louislam/dockge:1
</pre></table></code></div></div><p>I went with port <code class="language-plaintext highlighter-rouge">9441</code> but of course that can be changed. The default <code class="language-plaintext highlighter-rouge">5001</code> is generally used for other services in my network.</p><h3 id="yacht"><span class="me-2">Yacht</span><a href="#yacht" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Yacht is competitive with Portainer but has limited functionalities. To run the container, first, create a directory for config as follows →</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">mkdir</span> <span class="nt">-p</span> <span class="nv">$HOME</span>/yacht
</pre></table></code></div></div><p>Then deploy the container as follows →</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>docker run <span class="nt">--name</span> yacht <span class="se">\</span>
<span class="nt">-d</span> <span class="nt">-p</span> 8000:8000 <span class="se">\</span>
<span class="nt">-v</span> /var/run/docker.sock:/var/run/docker.sock <span class="se">\</span>
<span class="nt">-v</span> <span class="nv">$HOME</span>/yacht:/config
selfhostedpro/yacht
</pre></table></code></div></div><p>The port can be changed to 8001 on the host side if Portainer is needed to run simultaneously.</p><p>I recommend checking out the other two projects as well and ensuring they work for your use case. Then, have fun!</p><h2 id="portainerdockge-stacks"><span class="me-2">Portainer/Dockge Stacks</span><a href="#portainerdockge-stacks" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Since I primarily use Portainer/Dockge, I also want to highlight this - they can be used to deploy containers using <a href="https://docs.docker.com/compose/install/linux/">Docker’s compose plugin</a> through the use of Docker compose YAML template files. This feature is called <strong><em>Stacks</em></strong>. This makes it very easy to maintain and port a home lab. This is because starting Portainer on a server is a single command like mentioned above under “Deployment”, and all other containers can simply be maintained as compose (or stack) definitions.</p><p>While each service can be deployed as a separate stack, it’s also easy to deploy everything as a single stack if it’s small enough. Maintaining a single compose YAML template helps to start all of the services in a single-click fashion. Alternatively, separate stacks allow easy debugging on the home server. Additionally, you can deploy containers in specific networks easily (though it’s generally best to isolate them).</p><blockquote class="prompt-tip"><p>Stack are defined via YAML syntax and this is very useful for deploying services together. However, keep in mind that if Portainer is started as the <code class="language-plaintext highlighter-rouge">root</code> user, then the volume binds will also be maintained and inherited by <code class="language-plaintext highlighter-rouge">root</code>, which might be an issue if other services/containers need to access the same volume mounts.</p></blockquote><p>The stacks also allow editing the definitions on the browser UI. One of the features I use very often is the checkbox of “Re-pull and deploy” on Portainer and a similar option in Dockge when updating a stack. This can be done without actually making a modification to the definition, allowing a simple update of the containers in a given stack. Again, there are other services like <a href="https://github.com/containrrr/watchtower">Watchtower</a> that are great at updating containers, but I just like to do that manually for specific stacks.</p><p>An example compose YAML template for some of the services mentioned in my blog is as follows →</p><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
</pre><td class="rouge-code"><pre><span class="na">services</span><span class="pi">:</span>
 <span class="na">adguardhome</span><span class="pi">:</span>
 <span class="na">image</span><span class="pi">:</span> <span class="s">adguard/adguardhome</span>
 <span class="na">container_name</span><span class="pi">:</span> <span class="s">adguardhome</span>
 <span class="na">networks</span><span class="pi">:</span>
 <span class="pi">-</span> <span class="s">adguardnet</span>
 <span class="na">restart</span><span class="pi">:</span> <span class="s">unless-stopped</span>
 <span class="na">volumes</span><span class="pi">:</span>
 <span class="pi">-</span> <span class="s">/home/tanq/adguard/work:/opt/adguardhome/work</span>
 <span class="pi">-</span> <span class="s">/home/tanq/adguard/conf:/opt/adguardhome/conf</span>
 <span class="na">ports</span><span class="pi">:</span>
 <span class="pi">-</span> <span class="s2">"</span><span class="s">53:53/tcp"</span>
 <span class="pi">-</span> <span class="s2">"</span><span class="s">53:53/udp"</span>
 <span class="pi">-</span> <span class="s2">"</span><span class="s">80:80/tcp"</span>
 <span class="pi">-</span> <span class="s2">"</span><span class="s">443:443/tcp"</span>
 <span class="pi">-</span> <span class="s2">"</span><span class="s">443:443/udp"</span>
 <span class="pi">-</span> <span class="s2">"</span><span class="s">3001:3000/tcp"</span>
 <span class="pi">-</span> <span class="s2">"</span><span class="s">853:853/tcp"</span>

 <span class="na">filebrowser</span><span class="pi">:</span>
 <span class="na">image</span><span class="pi">:</span> <span class="s">filebrowser/filebrowser</span>
 <span class="na">container_name</span><span class="pi">:</span> <span class="s">filebrowser</span>
 <span class="na">networks</span><span class="pi">:</span>
 <span class="pi">-</span> <span class="s">servicesnet</span>
 <span class="na">volumes</span><span class="pi">:</span>
 <span class="pi">-</span> <span class="s">/home/tanq/:/srv</span>
 <span class="pi">-</span> <span class="s">/home/tanq/filebrowser/filebrowser.db:/database.db</span>
 <span class="na">ports</span><span class="pi">:</span>
 <span class="pi">-</span> <span class="s">5002:80</span>

 <span class="na">homepage</span><span class="pi">:</span>
 <span class="na">image</span><span class="pi">:</span> <span class="s">ghcr.io/benphelps/homepage</span>
 <span class="na">container_name</span><span class="pi">:</span> <span class="s">homepage</span>
 <span class="na">networks</span><span class="pi">:</span>
 <span class="pi">-</span> <span class="s">servicesnet</span>
 <span class="na">volumes</span><span class="pi">:</span>
 <span class="pi">-</span> <span class="s">/var/run/docker.sock:/var/run/docker.sock</span>
 <span class="pi">-</span> <span class="s">/home/tanq/homepage:/app/config</span>
 <span class="na">ports</span><span class="pi">:</span>
 <span class="pi">-</span> <span class="s">5001:3000</span>

 <span class="na">local_dumpster</span><span class="pi">:</span>
 <span class="na">image</span><span class="pi">:</span> <span class="s">tanq16/local_dumpster:main</span>
 <span class="na">container_name</span><span class="pi">:</span> <span class="s">local_dumpster</span>
 <span class="na">networks</span><span class="pi">:</span>
 <span class="pi">-</span> <span class="s">servicesnet</span>
 <span class="na">ports</span><span class="pi">:</span>
 <span class="pi">-</span> <span class="s">5000:5000</span>

 <span class="na">jellyfin</span><span class="pi">:</span>
 <span class="na">image</span><span class="pi">:</span> <span class="s">jellyfin/jellyfin</span>
 <span class="na">container_name</span><span class="pi">:</span> <span class="s">jellyfin</span>
 <span class="na">networks</span><span class="pi">:</span>
 <span class="pi">-</span> <span class="s">jellynet</span>
 <span class="na">restart</span><span class="pi">:</span> <span class="s">unless-stopped</span>
 <span class="na">volumes</span><span class="pi">:</span>
 <span class="pi">-</span> <span class="s">/home/tanq/jellyfin/config:/config</span>
 <span class="pi">-</span> <span class="s">/home/tanq/jellyfin/cache:/cache</span>
 <span class="pi">-</span> <span class="s">/media/tanq/Tanishq/Media/:/data/media</span>
 <span class="na">ports</span><span class="pi">:</span>
 <span class="pi">-</span> <span class="s">8096:8096</span>

<span class="na">networks</span><span class="pi">:</span>
 <span class="na">adguardnet</span><span class="pi">:</span>
 <span class="na">servicesnet</span><span class="pi">:</span>
 <span class="na">jellynet</span><span class="pi">:</span>
</pre></table></code></div></div><p>Now that is useful, if nothing else! Of course, specific situations may require that containers be deployed via individual stacks, so it’s easy to spin them down or up. I use a master stack because I have two server machines, one for all the primary services I use daily, and the other for development and trial runs. So, the master stack is useful for deploying the primary services on the main server.</p><p>In conclusion, I think <strong><em>Stacks</em></strong> is an awesome feature of Portainer!</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/blog/categories/home-server/">Home Server</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/blog/tags/portainer/" class="post-tag no-text-decoration" >portainer</a> <a href="/blog/tags/yacht/" class="post-tag no-text-decoration" >yacht</a> <a href="/blog/tags/home-lab/" class="post-tag no-text-decoration" >home-lab</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Container%20Management%20in%20Home%20Lab%20-%20Portainer,%20Dockge%20&%20Yacht%20-%20Tanishq%20Rupaal&url=https%3A%2F%2Ftanishq.page%2Fblog%2Fposts%2Fhomelab-container-mgmt%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Container%20Management%20in%20Home%20Lab%20-%20Portainer,%20Dockge%20&%20Yacht%20-%20Tanishq%20Rupaal&u=https%3A%2F%2Ftanishq.page%2Fblog%2Fposts%2Fhomelab-container-mgmt%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Ftanishq.page%2Fblog%2Fposts%2Fhomelab-container-mgmt%2F&text=Container%20Management%20in%20Home%20Lab%20-%20Portainer,%20Dockge%20&%20Yacht%20-%20Tanishq%20Rupaal" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Ftanishq.page%2Fblog%2Fposts%2Fhomelab-container-mgmt%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/blog/posts/go-coding/">The Way to Go(lang)</a><li class="text-truncate lh-lg"> <a href="/blog/posts/homelab-budgetlord/">Expense Tracking in Home Lab</a><li class="text-truncate lh-lg"> <a href="/blog/posts/homelab-fusion/">Leantime in Home Lab</a><li class="text-truncate lh-lg"> <a href="/blog/posts/ai-rag/">Exploring RAG (Retrieval-Augmented Generation) and Talking to my Notes</a><li class="text-truncate lh-lg"> <a href="/blog/posts/cst-guide/">Containerized Security Toolkit - A Guide</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/blog/tags/home-lab/">home-lab</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/lab/">lab</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/productivity/">productivity</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/offsec-proving-grounds/">offsec-proving-grounds</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/oscp/">oscp</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/security/">security</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/aws/">aws</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/container/">container</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/docker/">docker</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/github/">github</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/blog/posts/homelab-filebrowser/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1684100460" data-df="ll" > May 14, 2023 </time><h4 class="pt-0 my-2">FileBrowser in Home Lab</h4><div class="text-muted"><p>FileBrowser is a file management service that can run within the local network through a browser. It can be thought of as a “create your own cloud storage” solution, with the cloud being the self-h...</p></div></div></a></article><article class="col"> <a href="/blog/posts/homelab-homepage/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1683507180" data-df="ll" > May 7, 2023 </time><h4 class="pt-0 my-2">Homepage Dashboard in Home Lab</h4><div class="text-muted"><p>Homepage is a slick-looking dashboard that I use in my home lab. Out of at least 10 other dashboard applications I tried, Homepage is the only one that struck the right balance of elegance, simplic...</p></div></div></a></article><article class="col"> <a href="/blog/posts/homelab-adguard/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1683476520" data-df="ll" > May 7, 2023 </time><h4 class="pt-0 my-2">AdGuard in Home Lab</h4><div class="text-muted"><p>AdGuard Home is a network-wide DNS sink hole, like PiHole. Like most services, this can be deployed as a container, which is the easiest way to set it up. Deployment AdGuard provides a wiki to he...</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/blog/posts/homelab-jellyfin/" class="btn btn-outline-primary" aria-label="Older" ><p>Jellyfin in Home Lab</p></a> <a href="/blog/posts/homelab-adguard/" class="btn btn-outline-primary" aria-label="Newer" ><p>AdGuard in Home Lab</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2024</time> <a href="https://twitter.com/etheriosking">Tanishq Rupaal</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/blog/tags/home-lab/">home-lab</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/lab/">lab</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/productivity/">productivity</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/offsec-proving-grounds/">offsec-proving-grounds</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/oscp/">oscp</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/security/">security</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/aws/">aws</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/container/">container</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/docker/">docker</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/github/">github</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/blog/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>
