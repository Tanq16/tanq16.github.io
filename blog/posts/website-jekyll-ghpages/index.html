<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.3" /><meta property="og:title" content="Hosting a Website using GitHub Pages and Jekyll" /><meta property="og:locale" content="en" /><meta name="description" content="Covering Bases" /><meta property="og:description" content="Covering Bases" /><link rel="canonical" href="https://tanishq.page/blog/posts/website-jekyll-ghpages/" /><meta property="og:url" content="https://tanishq.page/blog/posts/website-jekyll-ghpages/" /><meta property="og:site_name" content="Tanishq Rupaal" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-09-09T16:52:00-05:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Hosting a Website using GitHub Pages and Jekyll" /><meta name="twitter:site" content="@etheriosking" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-09-09T16:52:00-05:00","datePublished":"2023-09-09T16:52:00-05:00","description":"Covering Bases","headline":"Hosting a Website using GitHub Pages and Jekyll","mainEntityOfPage":{"@type":"WebPage","@id":"https://tanishq.page/blog/posts/website-jekyll-ghpages/"},"url":"https://tanishq.page/blog/posts/website-jekyll-ghpages/"}</script><title>Hosting a Website using GitHub Pages and Jekyll | Tanishq Rupaal</title><link rel="apple-touch-icon" sizes="180x180" href="/blog/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/blog/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/blog/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/blog/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/blog/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Tanishq Rupaal"><meta name="application-name" content="Tanishq Rupaal"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/blog/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="/blog/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.25.0/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return 'mode'; } static get MODE_ATTR() { return 'data-mode'; } static get DARK_MODE() { return 'dark'; } static get LIGHT_MODE() { return 'light'; } static get ID() { return 'mode-toggle'; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener('change', () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia('(prefers-color-scheme: dark)'); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { document.documentElement.removeAttribute(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage( { direction: ModeToggle.ID, message: this.modeStatus }, '*' ); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.notify(); } /* flipMode() */ } /* ModeToggle */ const modeToggle = new ModeToggle(); </script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/blog/" id="avatar" class="rounded-circle"><img src="/blog/assets/Abstract.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a><h1 class="site-title"> <a href="/blog/">Tanishq Rupaal</a></h1><p class="site-subtitle fst-italic mb-0">Cybersecurity Professional</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/blog/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/blog/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/blog/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/blog/tags/" class="nav-link"> <i class="fa-fw fas fa-tag"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/blog/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/tanq16" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://twitter.com/etheriosking" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fab fa-twitter"></i> </a> <a href="javascript:location.href = 'mailto:' + ['dragonking47','proton.me'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="https://linkedin.com/in/tanishqrupaal" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/blog/"> Home </a> </span> <span>Hosting a Website using GitHub Pages and Jekyll</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1"><header><h1 data-toc-skip>Hosting a Website using GitHub Pages and Jekyll</h1><div class="post-meta text-muted"> <span> Posted <time data-ts="1694296320" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Sep 9, 2023 </time> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/etheriosking">Tanishq Rupaal</a> </em> </span> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="1888 words" > <em>10 min</em> read</span></div></div></header><div class="content"><h2 id="covering-bases"><span class="me-2">Covering Bases</span><a href="#covering-bases" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><a href="https://pages.github.com/">GitHub Pages</a> is a straightforward method to deploy a website right from a GitHub repository, especially for those with computer science skills. In a very simplistic way, GitHub pages can simply use the repository root as the webroot and serve a website from there. It can also serve from a specific branch.</p><p>The deployment of pages can be executed via GitHub Actions (GHA) or directly from a GitHub branch. Of course, there are two basic ways of deploying sites in GitHub: we write normal website code and push it to a branch for GitHub to serve from, and we use static site generators like Jekyll. Check out <a href="https://docs.github.com/en/pages/getting-started-with-github-pages/about-github-pages">GitHub documentation</a> for more details.</p><p>The limitations of GitHub pages to keep in mind are →</p><ul><li>GitHub only serves static content, so there’s no particular server-side processing through PHP, node backend, etc.<li>Site content from the repos can be a maximum of 1 GB, meaning videos, music, photos, etc., are typically best placed elsewhere and not inside the repo.</ul><p>Read the other limitations as well, but those are the key ones. Based on these limitations and the type of people who <em>generally</em> use GitHub pages, such sites are best used for portfolio websites, blogs, and documentation sites. Of course, there are other uses, but these sites are easy to maintain and best suited for version-controlled code.</p><h2 id="custom-domains"><span class="me-2">Custom Domains</span><a href="#custom-domains" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>GitHub also (obviously) allows the use of custom domains. Put simply, these are several domain-related scenarios for GitHub pages →</p><ul><li><strong>No domain, primary site</strong> → The best way to make a portfolio without a custom domain is to deploy it as <code class="language-plaintext highlighter-rouge">&lt;username&gt;.github.io</code>. To do this, one must make a repo with the name <code class="language-plaintext highlighter-rouge">&lt;username&gt;.github.io</code> and deploy their site there. The site is then accessible at <code class="language-plaintext highlighter-rouge">https://&lt;username&gt;.github.io</code>.<li><strong>Primary site with domain</strong> → GitHub pages allows setting a custom domain from the repo settings page. It’s pretty straightforward, and after setting it up, the site is accessible at the domain. Example - <a href="https://tanishq.page">https://tanishq.page</a> is deployed similarly. Setting up a domain also requires some other settings from the domain registrar’s portal - specifically, linking the domain to GitHub’s server - which can be done by following this <a href="https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site#configuring-an-apex-domain">GitHub documentation</a>.<li><strong>Subdirectory site, no domain</strong> rarr; If a repository other than <code class="language-plaintext highlighter-rouge">&lt;username&gt;.github.io</code> is used to serve a GitHub pages site, then the URL for reaching it will be <code class="language-plaintext highlighter-rouge">https://&lt;username&gt;.github.io/&lt;repo-name&gt;</code>. The issue is that the same is not possible with a domain, i.e., you can’t deploy a new repository as a subdirectory for the primary site.<li><strong>Subdomain site, custom domain</strong> → A completely separate repo can be used as a subdomain site for the primary domain by setting the appropriate subdomain in the settings. Given the primary domain is already set up with a GitHub pages site, this step is straightforward and allows hosting from a different repo. See also <a href="https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/about-custom-domains-and-github-pages">GitHub’s documentation</a>.<li><strong>Subdirectory site, custom domain</strong> → As stated above, doing this isn’t possible from a separate repo; therefore, the site resources must be deployed from the same directory as the primary domain but inside a subfolder. Then, visiting that domain’s subdirectory will serve that site. Example - this blog site is deployed in the same manner <a href="https://tanishq.page/blog/">https://tanishq.page/blog</a>.</ul><blockquote class="prompt-tip"><p>The subdomain vs. subdirectory debate is a split decision across the internet. I’m not an SEO guru by any means, but the consensus seems to be that if you’re an established business, it’s okay to have a subdomain site, specifically for things like regional sites or alternate offerings, i.e., all cases where you want a different keyword association for the subdomain site than the primary domain. However, it’s generally better for individuals like myself to have a subdirectory since all keywords link to the same domain and boost SEO.</p><p>Again, the guidance could be clearer since we also see established organizations like Google shifting some sites from a subdomain to a subdirectory. Many organizations also make the subdomain a pointer to the subdirectory for extra audience reach. All that to say - pick your poison and make an informed decision.</p></blockquote><h2 id="using-a-static-site-generator---jekyll"><span class="me-2">Using a Static Site Generator - Jekyll</span><a href="#using-a-static-site-generator---jekyll" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>This section is one of the main reasons behind this blog because there are fewer descriptive public instructions on Jekyll. I’m also focussing primarily on Jekyll since it’s pretty widely used and also the recommended generator to use with GitHub. I also don’t want to discuss deploying generic HTML/CSS/JS sites since all that is reasonably straightforward. For example, <a href="https://tanishq.page">my site</a> is a customized version of a theme from <a href="https://html5up.net">HTML5UP</a> that I’ve slapped onto a GitHub repo. So, I’ll focus on Jekyll stuff, which is useful for creating a blog like mine.</p><p>I choose Jekyll (or static site generators) because we - the people of CS - like our documentation, notes, blogs, information, etc., to stay in a simple and extensible format, Markdown. Jekyll takes markdown content and makes a beautiful website out of it (of course it’s gorgeous because of the work various people put behind designing Jekyll themes). A huge collection of themes is available to browse at <a href="https://jekyllthemes.io">JekyllThemes</a>. My blog site (the one you’re reading) is based on the <a href="https://chirpy.cotes.page">Chirpy</a> theme (do check this project out; it’s amazing).</p><h3 id="setup-and-serve-a-jekyll-site"><span class="me-2">Setup and Serve a Jekyll Site</span><a href="#setup-and-serve-a-jekyll-site" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><blockquote class="prompt-info"><p>I’ll stick to instructions for Ubuntu, but just translate these for other distributions of linux or simply deploy it in a container :)</p></blockquote><p>The first step is the prerequisites. Here is a one-liner <code class="language-plaintext highlighter-rouge">apt</code> command for installing all dependencies →</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt update <span class="nt">-y</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
<span class="nb">sudo </span>apt <span class="nb">install </span>ruby-full build-essential zlib1g-dev g++ gcc make <span class="nt">-y</span>
</pre></table></code></div></div><p>Next comes the installation of Jekyll itself →</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nb">echo</span> <span class="s1">'export GEM_HOME="$HOME/gems"'</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
<span class="nb">echo</span> <span class="s1">'export PATH="$HOME/gems/bin:$PATH"'</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
gem <span class="nb">install </span>jekyll bundler
</pre></table></code></div></div><p>With the prerequisites out of the picture, simply clone or download your theme, make your changes, and then from the directory, run the following →</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>bundle <span class="nb">exec </span>jekyll b <span class="nt">-d</span> servedir
</pre></table></code></div></div><p>Now the site is built and is available for serving via the <code class="language-plaintext highlighter-rouge">servedir</code> directory, i.e., the directory that contains the HTML/CSS/JS for the site. In my experience, it’s best to generate this folder and move it around to serve via Apache, GitHub pages, or even plain old <code class="language-plaintext highlighter-rouge">php -S 0.0.0.0:8000</code>.</p><h3 id="deploying-jekyll-based-site-in-a-repo"><span class="me-2">Deploying Jekyll-based Site in a Repo</span><a href="#deploying-jekyll-based-site-in-a-repo" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Usually, all Jekyll-themed templates come with a GitHub action that builds the site using Jekyll (similar to the previous subsection) and deploys the built artifacts via GitHub pages. The associated GHA handles all the steps, including the deployment. For example, check out the workflow by Chirpy creators <a href="https://github.com/cotes2020/chirpy-starter/blob/main/.github/workflows/pages-deploy.yml">here</a>.</p><p>If the Jekyll template doesn’t have a GHA for deployment, the only option is to make a custom GHA with the steps outined under “Setup and Serve a Jekyll Site”. Then, use the created artifacts to manually upload directly to a repo branch or automatically through the action. Then, the repo can be set to serve a site via GitHub pages from that branch. In the case of a subdirectory, neither the generally available actions nor a custom one can deploy a site from one repo to another (from the subdirectory or subdomain repo to the primary repo). So, if we can dissect that problem, the resulting solutions can also be used for deploying to a single repo.</p><h3 id="deploying-a-jekyll-site-as-a-subdirectory"><span class="me-2">Deploying a Jekyll Site as a Subdirectory</span><a href="#deploying-a-jekyll-site-as-a-subdirectory" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Static sites can be generated as artifacts and uploaded to a branch or the same repo. Then those artifacts can be used on the repo where the subdirectory needs to be deployed. My site is built the same way; check out <a href="https://github.com/tanq16/tanq16.github.io">main</a> and <a href="https://github.com/tanq16/blog_site">blog</a>. There are multiple solutions to solving this problem, such as using git submodules, subtrees, or even manually doing the uploading from one repo to another. But obviously, we want to automate this.</p><p>I used a GitHub Action solution that automatically pulls a generated site from my blog repo to my main site repo. I’m simply using <code class="language-plaintext highlighter-rouge">git</code> to clone my blog site and commit only the generated site part. This is possible since my repos are public (GitHub pages can only work on public repos in the free plan). For private repos, similar solutions must use GitHub personal access tokens (PATs). In my case, I’m relying on my repos being public and GHAs having their token for the repo they’re defined for.</p><h3 id="designing-the-ghas"><span class="me-2">Designing the GHAs</span><a href="#designing-the-ghas" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>For the blog site, I’m using a customized version of Chirpy’s GHA to build the site and push the generated content to the same repo →</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
</pre><td class="rouge-code"><pre>name: <span class="s2">"Build Site"</span>
on:
  push:
    branches:
      - main
      - master

  workflow_dispatch:

<span class="nb">jobs</span>:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v3
        with:
          fetch-depth: 1

      - name: Setup Pages
        <span class="nb">id</span>: pages
        uses: actions/configure-pages@v3

      - name: Setup Ruby
        uses: ruby/setup-ruby@v1
        with:
          ruby-version: 3
          bundler-cache: <span class="nb">true</span>

      - name: Build site
        run: |
          <span class="nb">rm</span> <span class="nt">-rf</span> blog
          bundle <span class="nb">exec </span>jekyll b <span class="nt">-d</span> blog
        <span class="nb">env</span>:
          JEKYLL_ENV: <span class="s2">"production"</span>

      - name: Upload site
        run: |
          git config <span class="nt">--global</span> user.name <span class="s2">"github-actions[bot]"</span>
          git config <span class="nt">--global</span> user.email <span class="s2">"tanishq-github-actions[bot]@users.noreply.github.com"</span>
          git add <span class="nt">-A</span>
          git commit <span class="nt">-m</span> <span class="s2">"[bot] build blog"</span>
          git push
</pre></table></code></div></div><p>Basically, the action is manually executable due to the <code class="language-plaintext highlighter-rouge">workflow_dispatch</code> being present and automatically executable through changes in the blog repo code. Ultimately, the action commits the generated files in the <code class="language-plaintext highlighter-rouge">blog</code> directory to the same repo. This means that if I locally run a <code class="language-plaintext highlighter-rouge">php -S 0.0.0.0:8000</code> from the repo root, the site should be working at <code class="language-plaintext highlighter-rouge">localhost:8000/blog/</code>.</p><blockquote class="prompt-warning"><p>For the site generator to work, the base URL for specifying paths for CSS and JS assets must be the <code class="language-plaintext highlighter-rouge">blog</code> directory, not the repo root. Setting this can be tricky based on the chosen Jekyll theme, as some might hardcode it to be the root, but others may have an option to specify the path. Chirpy has such an option for the record (check the <code class="language-plaintext highlighter-rouge">_config.yml</code> file for an example).</p></blockquote><p>Over on the main website repo, I have the following GitHub action →</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre><td class="rouge-code"><pre>name: <span class="s2">"Integrate Blog"</span>
on:
  push:
    branches:
      - main
      - master

  workflow_dispatch:

<span class="nb">jobs</span>:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Pull blog
        run: |
          <span class="nb">rm</span> <span class="nt">-rf</span> blog
          git clone <span class="nt">--depth</span><span class="o">=</span>1 https://github.com/tanq16/blog_site
          <span class="nb">mv</span> ./blog_site/blog ./blog
          <span class="nb">rm</span> <span class="nt">-rf</span> blog_site

      - name: Deploy blog
        run: |
          git config <span class="nt">--global</span> user.name <span class="s2">"github-actions[bot]"</span>
          git config <span class="nt">--global</span> user.email <span class="s2">"tanishq-github-actions[bot]@users.noreply.github.com"</span>
          git add <span class="nt">-A</span>
          git commit <span class="nt">-m</span> <span class="s2">"auto-add blog"</span>
          git push
</pre></table></code></div></div><p>I clone the directory generated earlier on the other repo and commit it to the primary repo. This action can also be launched on demand.</p><p>Again, this setup works for me and is <strong><em>one</em></strong> possible way to get the job done. It’s also a naive solution but worth setting up for simplicity. Otherwise, git submodules might be another good solution to try.</p><h2 id="jekyll-is-cool"><span class="me-2">Jekyll is Cool!</span><a href="#jekyll-is-cool" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>The intent behind writing this blog was to share some information on deploying sites via Jekyll and GitHub pages in various scenarios. This helps people search about and debug Jekyll and GitHub pages, especially for hosting subdirectories. Jekyll is fantastic and allows building sites effortlessly, so I highly recommend it! Cheers!</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/blog/categories/computers-and-fun/">Computers and Fun</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/blog/tags/github-pages/" class="post-tag no-text-decoration" >github-pages</a> <a href="/blog/tags/github/" class="post-tag no-text-decoration" >github</a> <a href="/blog/tags/jekyll/" class="post-tag no-text-decoration" >jekyll</a> <a href="/blog/tags/deployment/" class="post-tag no-text-decoration" >deployment</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Hosting%20a%20Website%20using%20GitHub%20Pages%20and%20Jekyll%20-%20Tanishq%20Rupaal&url=https%3A%2F%2Ftanishq.page%2Fblog%2Fposts%2Fwebsite-jekyll-ghpages%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Hosting%20a%20Website%20using%20GitHub%20Pages%20and%20Jekyll%20-%20Tanishq%20Rupaal&u=https%3A%2F%2Ftanishq.page%2Fblog%2Fposts%2Fwebsite-jekyll-ghpages%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Ftanishq.page%2Fblog%2Fposts%2Fwebsite-jekyll-ghpages%2F&text=Hosting%20a%20Website%20using%20GitHub%20Pages%20and%20Jekyll%20-%20Tanishq%20Rupaal" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Ftanishq.page%2Fblog%2Fposts%2Fwebsite-jekyll-ghpages%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/blog/posts/homelab-linkwarden/">Bookmark Manager in Home Lab</a><li class="text-truncate lh-lg"> <a href="/blog/posts/homelab-budgeting/">Personal Finance Budgeting in Home Lab</a><li class="text-truncate lh-lg"> <a href="/blog/posts/entertainment-dbzcelltimeline/">Dragon Ball Z - Cell Saga Timeline 101</a><li class="text-truncate lh-lg"> <a href="/blog/posts/homelab-excalidraw/">Excalidraw in Home Lab</a><li class="text-truncate lh-lg"> <a href="/blog/posts/homelab-budgeter/">Expense Tracking in Home Lab</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/blog/tags/lab/">lab</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/offsec-proving-grounds/">offsec-proving-grounds</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/oscp/">oscp</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/home-lab/">home-lab</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/productivity/">productivity</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/security/">security</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/aws/">aws</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/programming/">programming</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/github/">github</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/linux/">linux</a></div></section></div><section id="toc-wrapper" class="ps-0 pe-4"><h2 class="panel-heading ps-3 pt-2 mb-2">Contents</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/blog/posts/github-secret-scan/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1646895600" data-df="ll" > Mar 10, 2022 </time><h4 class="pt-0 my-2">10k GitHub Repositories Secret Scanning Code</h4><div class="text-muted"><p> The API used to search git repositories is → https://api.github.com/search/repositories The code to pull 10000 repositories’ URLs is as follows → import time import json import requests github...</p></div></div></a></article><article class="col"> <a href="/blog/posts/github-fundamentals/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1651406400" data-df="ll" > May 1, 2022 </time><h4 class="pt-0 my-2">Fundamentals of GitHub</h4><div class="text-muted"><p> Introduction This blog is a primer of how basic GitHub collaboration works. This is not exhaustive of all features and tidbits but a basic explanation sheet to help people work on GitHub with relat...</p></div></div></a></article><article class="col"> <a href="/blog/posts/linux-device-drivers/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1568271600" data-df="ll" > Sep 12, 2019 </time><h4 class="pt-0 my-2">Linux Device Drivers</h4><div class="text-muted"><p> This is a practical study I made using some videos and written resources to understand device drivers to some extent. Building a module Device drivers hide the details of how the device works. Us...</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/blog/posts/cloudfoxable/" class="btn btn-outline-primary" aria-label="Older" ><p>Cloudfoxable</p></a> <a href="/blog/posts/homelab-budgeter/" class="btn btn-outline-primary" aria-label="Newer" ><p>Expense Tracking in Home Lab</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p> © <time>2024</time> <a href="https://twitter.com/etheriosking">Tanishq Rupaal</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p><p>Using the <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/blog/tags/lab/">lab</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/offsec-proving-grounds/">offsec-proving-grounds</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/oscp/">oscp</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/home-lab/">home-lab</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/productivity/">productivity</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/security/">security</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/aws/">aws</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/programming/">programming</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/github/">github</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/linux/">linux</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.1/dist/jquery.min.js,npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.10/dayjs.min.js,npm/dayjs@1.11.10/locale/en.min.js,npm/dayjs@1.11.10/plugin/relativeTime.min.js,npm/dayjs@1.11.10/plugin/localizedFormat.min.js,npm/tocbot@4.25.0/dist/tocbot.min.js"></script> <script defer src="/blog/assets/js/dist/post.min.js"></script> <script defer src="/blog/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-B88HEPZBVJ"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-B88HEPZBVJ'); }); </script> <script> /* Note: dependent library will be loaded in `js-selector.html` */ SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/blog/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5"></p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
