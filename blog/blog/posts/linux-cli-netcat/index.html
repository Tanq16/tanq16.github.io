<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="Basics of Linux Commands and NetCat" /><meta property="og:locale" content="en" /><meta name="description" content="A shell is an interface to the operating system’s services. All process are created by fork() and given a new direction by the exec() process. The trace of forks and calls can be seen from the strace command." /><meta property="og:description" content="A shell is an interface to the operating system’s services. All process are created by fork() and given a new direction by the exec() process. The trace of forks and calls can be seen from the strace command." /><link rel="canonical" href="https://tanishq.page/blog//blog/posts/linux-cli-netcat/" /><meta property="og:url" content="https://tanishq.page/blog//blog/posts/linux-cli-netcat/" /><meta property="og:site_name" content="Tanishq Rupaal" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-05-30T07:00:00-05:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Basics of Linux Commands and NetCat" /><meta name="twitter:site" content="@etheriosking" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2020-05-30T07:00:00-05:00","datePublished":"2020-05-30T07:00:00-05:00","description":"A shell is an interface to the operating system’s services. All process are created by fork() and given a new direction by the exec() process. The trace of forks and calls can be seen from the strace command.","headline":"Basics of Linux Commands and NetCat","mainEntityOfPage":{"@type":"WebPage","@id":"https://tanishq.page/blog//blog/posts/linux-cli-netcat/"},"url":"https://tanishq.page/blog//blog/posts/linux-cli-netcat/"}</script><title>Basics of Linux Commands and NetCat | Tanishq Rupaal</title><link rel="apple-touch-icon" sizes="180x180" href="/blog/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/blog/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/blog/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/blog/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/blog/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Tanishq Rupaal"><meta name="application-name" content="Tanishq Rupaal"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/blog/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.1/css/all.min.css"><link rel="stylesheet" href="/blog/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener('change', () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.notify(); } /* flipMode() */ } /* ModeToggle */ const modeToggle = new ModeToggle(); </script><body data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/blog/" class="mx-auto"> <img src="/blog/assets/Abstract.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title"> <a href="/blog/">Tanishq Rupaal</a></div><div class="site-subtitle font-italic">Cybersecurity Professional</div></div><ul class="w-100"><li class="nav-item"> <a href="/blog/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/blog/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/blog/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/blog/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/blog/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/tanq16" aria-label="github" target="_blank" rel="noopener noreferrer"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/etheriosking" aria-label="twitter" target="_blank" rel="noopener noreferrer"> <i class="fab fa-twitter"></i> </a> <a href="javascript:location.href = 'mailto:' + ['dragonking47','proton.me'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="https://linkedin.com/in/tanishqrupaal" aria-label="linkedin" target="_blank" rel="noopener noreferrer"> <i class="fab fa-linkedin"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/blog/"> Home </a> </span> <span>Basics of Linux Commands and NetCat</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Basics of Linux Commands and NetCat</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1590840000" data-df="ll" data-toggle="tooltip" data-placement="bottom"> May 30, 2020 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/etheriosking">Tanishq Rupaal</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1045 words"> <em>5 min</em> read</span></div></div></div><div class="post-content"><p>A shell is an interface to the operating system’s services. All process are created by <code class="language-plaintext highlighter-rouge">fork()</code> and given a new direction by the <code class="language-plaintext highlighter-rouge">exec()</code> process. The trace of forks and calls can be seen from the strace command.</p><h2 id="using-shell-script"><span class="mr-2">Using shell script</span><a href="#using-shell-script" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>This is more like using a shell to create more shell commands. A shell script is an executable which is executed by the terminal or the shell interpreter. Linux’s default shell is usually the bourne again shell or <code class="language-plaintext highlighter-rouge">bash</code>. The default commands available for the shell can be written as a script to perform more complex functions and can be run as an executable. Aliases can also be used.</p><h2 id="using-programming-languages-like-c-and-c"><span class="mr-2">Using programming languages like c and c++</span><a href="#using-programming-languages-like-c-and-c" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>The compiled code produces and executable which can be treated as a command. Example <code class="language-plaintext highlighter-rouge">C++</code> snippet →</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="cp">#include</span><span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">"Enter name - "</span><span class="p">;</span>
    <span class="n">string</span> <span class="n">s</span><span class="p">;</span>
    <span class="n">cin</span><span class="o">&gt;&gt;</span><span class="n">s</span><span class="p">;</span>
    <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="o">&lt;&lt;</span><span class="s">"Welcome "</span><span class="o">&lt;&lt;</span><span class="n">s</span><span class="o">&lt;&lt;</span><span class="s">". System ready to rumble!!"</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><h2 id="common-ground-for-the-above-two-methods"><span class="mr-2">Common ground for the above two methods</span><a href="#common-ground-for-the-above-two-methods" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>In both cases, we need to run the commands using <code class="language-plaintext highlighter-rouge">./command</code> in the specific directory. This is not like a true command. All standard commands are stored as executables or as links to the executables in specific directories like <code class="language-plaintext highlighter-rouge">/bin/</code> or <code class="language-plaintext highlighter-rouge">/usr/bin/</code> etc. To actually call the command we do not specify the directory, we just specify the name without <code class="language-plaintext highlighter-rouge">./</code>. There is a <code class="language-plaintext highlighter-rouge">PATH</code> variable which stores the locations of all the mentioned folders, which are searched when a command is called. To emulate the working of standard commands, we need to add the directory to the <code class="language-plaintext highlighter-rouge">PATH</code> using a command as follows →</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">export </span>PATH <span class="o">=</span> <span class="s2">"</span><span class="nv">$PATH</span><span class="s2">:&lt;directory to be added&gt;"</span>
</pre></table></code></div></div><p>This will be valid for the particular session on the bash terminal. Therefore, to make the command always available, we need to add this command to the <code class="language-plaintext highlighter-rouge">.bashrc</code> or <code class="language-plaintext highlighter-rouge">.profile</code> file in the home directory.</p><h2 id="complexity-increased---use-python"><span class="mr-2">Complexity increased - Use python</span><a href="#complexity-increased---use-python" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Many packages are available for python which can be used to create commands for us which might actually help us in day to day work instead of using the commands as simple hello world programs. There are two types to classify this use as →</p><ol><li>Standard for different packages.<li>Using <a href="https://www.ibm.com/developerworks/aix/library/au-pythocli/">optparse</a> Refer to python code snippet for example on nmap package for python.</ol><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="c1">#! /usr/bin/env python3
</span>
<span class="kn">import</span> <span class="n">nmap</span>
<span class="kn">import</span> <span class="n">sys</span>

<span class="n">nm</span><span class="o">=</span><span class="n">nmap</span><span class="p">.</span><span class="nc">PortScanner</span><span class="p">()</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">ip</span> <span class="ow">in</span> <span class="n">sys</span><span class="p">.</span><span class="n">argv</span><span class="p">:</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span>
    <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
        <span class="k">continue</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">nm</span><span class="p">.</span><span class="nf">scan</span><span class="p">(</span><span class="n">ip</span><span class="p">,</span> <span class="sh">'</span><span class="s">21-443</span><span class="sh">'</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">host</span> <span class="ow">in</span> <span class="n">nm</span><span class="p">.</span><span class="nf">all_hosts</span><span class="p">():</span>
            <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">{} ({})</span><span class="sh">"</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">nm</span><span class="p">[</span><span class="n">host</span><span class="p">].</span><span class="nf">hostname</span><span class="p">()))</span>
            <span class="k">for</span> <span class="n">proto</span> <span class="ow">in</span> <span class="n">nm</span><span class="p">[</span><span class="n">host</span><span class="p">].</span><span class="nf">all_protocols</span><span class="p">():</span>
                <span class="k">for</span> <span class="n">kk</span> <span class="ow">in</span> <span class="n">nm</span><span class="p">[</span><span class="n">host</span><span class="p">][</span><span class="n">proto</span><span class="p">].</span><span class="nf">keys</span><span class="p">():</span>
                    <span class="nf">if </span><span class="p">(</span><span class="n">kk</span><span class="o">==</span><span class="mi">80</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">kk</span><span class="o">==</span><span class="mi">443</span><span class="p">):</span>
                        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">{} : {}</span><span class="sh">"</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">proto</span><span class="p">,</span><span class="n">kk</span><span class="p">))</span>
</pre></table></code></div></div><blockquote><p><code class="language-plaintext highlighter-rouge">#!</code> is the shebang directive. Using optparse, the commands we make will be very similar to the existing command structure. We can even have the help section and error messages inbuilt which make the commands more interactive.</p></blockquote><h2 id="argparse"><span class="mr-2">Argparse</span><a href="#argparse" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>The package <code class="language-plaintext highlighter-rouge">optparse</code> is now deprecated and replaced by <code class="language-plaintext highlighter-rouge">argparse</code> based on <code class="language-plaintext highlighter-rouge">optparse</code>. An example for a simple command to compute squares using <code class="language-plaintext highlighter-rouge">argparse</code> is as follows →</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="n">argparse</span>
<span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="p">.</span><span class="nc">ArgumentParser</span><span class="p">()</span>
<span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">square</span><span class="sh">"</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>
                    <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">display a square of a given number</span><span class="sh">"</span><span class="p">)</span>
<span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">-v</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">--verbosity</span><span class="sh">"</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">choices</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
                    <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">increase output verbosity</span><span class="sh">"</span><span class="p">)</span>
<span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="nf">parse_args</span><span class="p">()</span>
<span class="n">answer</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">square</span><span class="o">**</span><span class="mi">2</span>
<span class="k">if</span> <span class="n">args</span><span class="p">.</span><span class="n">verbosity</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">the square of {} equals {}</span><span class="sh">"</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">square</span><span class="p">,</span> <span class="n">answer</span><span class="p">))</span>
<span class="k">elif</span> <span class="n">args</span><span class="p">.</span><span class="n">verbosity</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">{}^2 == {}</span><span class="sh">"</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">square</span><span class="p">,</span> <span class="n">answer</span><span class="p">))</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">answer</span><span class="p">)</span>
</pre></table></code></div></div><p>The output is as follows →</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre>$ python x.py
usage: x.py [-h] [-v {0,1,2}] square
x.py: error: too few arguments

$ python x.py 4
16

$ python x.py -v 0 4
16

$ python x.py -v 1 4
4^2 == 16

$ python -v 2 4
the square of 4 equals 16
</pre></table></code></div></div><hr /><h2 id="netcat"><span class="mr-2">NetCat</span><a href="#netcat" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="use-netcat-to-chat"><span class="mr-2">Use netcat to chat</span><a href="#use-netcat-to-chat" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Use listen command on the server side. <code class="language-plaintext highlighter-rouge">nc -l -p &lt;port&gt;</code> Connect to the server from client on the same port.<code class="language-plaintext highlighter-rouge">nc &lt;server&gt; &lt;port&gt;</code> Can be done on the same machine also.</p><h3 id="use-netcat-to-send-a-file"><span class="mr-2">Use netcat to send a file</span><a href="#use-netcat-to-send-a-file" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Use server machine to give command<code class="language-plaintext highlighter-rouge">nc -v -w 30 -p &lt;port&gt; -l &lt; file.txt</code> On the client machine give command <code class="language-plaintext highlighter-rouge">nc -v -w 2 &lt;server ip&gt; &lt;port&gt; &gt; receivedfile.txt</code> -w is for wait and the -v is for verbose output. The file.txt will be received as receivedfile.txt on the client machine. Works on local machine as well. Test.</p><h3 id="netcat-for-banner-grabbing"><span class="mr-2">Netcat for banner grabbing</span><a href="#netcat-for-banner-grabbing" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>It can be done with telnet as well but this does not alter the stream of data unlike telnet. Just nc to the ip using a specific port to get the info regarding the server running.</p><h3 id="port-scanning"><span class="mr-2">Port scanning</span><a href="#port-scanning" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Use -z for zero input output. <code class="language-plaintext highlighter-rouge">nc -v &lt;ip&gt; -z &lt;port-start&gt;-&lt;port-end&gt;</code> -n option can also be used. This does not do a DNS scan on the given ip address which does save time. Even -w can be used to wait specified number of seconds.</p><h3 id="execute-remote-shell-on-windows"><span class="mr-2">Execute remote shell on windows</span><a href="#execute-remote-shell-on-windows" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>To execute a remote shell on windows, get an nc command executed as follows <code class="language-plaintext highlighter-rouge">nc -lp &lt;port&gt; -vv -e cmd.exe</code> Then execute nc on the attacking machine as follows <code class="language-plaintext highlighter-rouge">nc &lt;ip&gt; &lt;port&gt;</code> It is always unencrypted. Since this is always unsafe, there is a version of netcat called cryptcat which has two fish encryption. If the listener uses the -e option it is called a direct shell. If the connecting machine uses the -e option it is called a reverse shell. This can help in situations where not both the machines on the network can port forward.</p><h3 id="netcat-to-transfer-files-between-two-systems-on-a-network"><span class="mr-2">Netcat to transfer files between two systems on a network</span><a href="#netcat-to-transfer-files-between-two-systems-on-a-network" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>To transfer a folder having the files to be sent, on the sender use command <code class="language-plaintext highlighter-rouge">tar -cf - &lt;foldername&gt; | nc -l -p 1337</code> On the receiving machine type command <code class="language-plaintext highlighter-rouge">nc &lt;sender ip&gt; 1337 | tar -xf -</code></p><h3 id="ncat"><span class="mr-2">Ncat</span><a href="#ncat" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>ncat is a more modern version of netcat which is implemented by nmap libraries. It has support for multiple protocols and transmission over ssl. On the listener type <code class="language-plaintext highlighter-rouge">ncat [options] [arguments] --allow &lt;allowed ip&gt; -vln &lt;port&gt; --ssl</code> Only connections from allowed ip will be allowed will have an encrypted channel. The connection will be allowed but not established form the allowed ip if the command from that ip does not contain the ssl option. On allowed ip type <code class="language-plaintext highlighter-rouge">ncat -vn &lt;listener&gt; &lt;l port&gt; --ssl</code></p><h2 id="resources"><span class="mr-2">Resources</span><a href="#resources" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><a href="https://docs.python.org/3/library/argparse.html#module-argparse">Argparse</a></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/blog/categories/computers-and-security/'>Computers and Security</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/blog/tags/linux/" class="post-tag no-text-decoration" >linux</a> <a href="/blog/tags/tool/" class="post-tag no-text-decoration" >tool</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Basics%20of%20Linux%20Commands%20and%20NetCat%20-%20Tanishq%20Rupaal&url=https%3A%2F%2Ftanishq.page%2Fblog%2F%2Fblog%2Fposts%2Flinux-cli-netcat%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Basics%20of%20Linux%20Commands%20and%20NetCat%20-%20Tanishq%20Rupaal&u=https%3A%2F%2Ftanishq.page%2Fblog%2F%2Fblog%2Fposts%2Flinux-cli-netcat%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Ftanishq.page%2Fblog%2F%2Fblog%2Fposts%2Flinux-cli-netcat%2F&text=Basics%20of%20Linux%20Commands%20and%20NetCat%20-%20Tanishq%20Rupaal" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Ftanishq.page%2Fblog%2F%2Fblog%2Fposts%2Flinux-cli-netcat%2F" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/blog/tags/lab/">lab</a> <a class="post-tag" href="/blog/tags/oscp/">oscp</a> <a class="post-tag" href="/blog/tags/home-lab/">home-lab</a> <a class="post-tag" href="/blog/tags/services/">services</a> <a class="post-tag" href="/blog/tags/productivity/">productivity</a> <a class="post-tag" href="/blog/tags/aws/">aws</a> <a class="post-tag" href="/blog/tags/programming/">programming</a> <a class="post-tag" href="/blog/tags/linux/">linux</a> <a class="post-tag" href="/blog/tags/reminders/">reminders</a> <a class="post-tag" href="/blog/tags/security/">security</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc"></nav></div><script src="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.js"></script></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/blog/posts/setuid-attack-lab/"><div class="card-body"> <em class="small" data-ts="1590994800" data-df="ll" > Jun 1, 2020 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>SetUID Attack Lab - SeedLabs</h3><div class="text-muted small"><p> Set-UID is an important security mechanism in unix systems. When a Set-UID program is run, the executing program assumes the owner’s privileges irrespective of the user running the program. The tas...</p></div></div></a></div><div class="card"> <a href="/blog/posts/linux-device-drivers/"><div class="card-body"> <em class="small" data-ts="1568271600" data-df="ll" > Sep 12, 2019 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Linux Device Drivers</h3><div class="text-muted small"><p> This is a practical study I made using some videos and written resources to understand device drivers to some extent. Building a module Device drivers hide the details of how the device works. Us...</p></div></div></a></div><div class="card"> <a href="/blog/posts/java-socket-programming/"><div class="card-body"> <em class="small" data-ts="1590667200" data-df="ll" > May 28, 2020 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Basics of Socket Programming in Java</h3><div class="text-muted small"><p> Simple Client Program import java.util.*; import java.net.*; import java.io.*; public class client { public static void main(String[] args) throws Exception { Socket s = new Socke...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/blog/posts/java-socket-programming/" class="btn btn-outline-primary" prompt="Older"><p>Basics of Socket Programming in Java</p></a> <a href="/blog/posts/md5-collision-lab/" class="btn btn-outline-primary" prompt="Newer"><p>MD5 Collision Attack Lab - SeedLabs</p></a></div></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/blog/tags/lab/">lab</a> <a class="post-tag" href="/blog/tags/oscp/">oscp</a> <a class="post-tag" href="/blog/tags/home-lab/">home-lab</a> <a class="post-tag" href="/blog/tags/services/">services</a> <a class="post-tag" href="/blog/tags/productivity/">productivity</a> <a class="post-tag" href="/blog/tags/aws/">aws</a> <a class="post-tag" href="/blog/tags/programming/">programming</a> <a class="post-tag" href="/blog/tags/linux/">linux</a> <a class="post-tag" href="/blog/tags/reminders/">reminders</a> <a class="post-tag" href="/blog/tags/security/">security</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><footer><div class="container pl-lg-4 pr-lg-4"><div class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/etheriosking">Tanishq Rupaal</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0">Using the <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> theme <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a>.</p></div></div></div></footer><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/blog/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1.11.6/dayjs.min.js,npm/dayjs@1.11.6/locale/en.min.js,npm/dayjs@1.11.6/plugin/relativeTime.min.js,npm/dayjs@1.11.6/plugin/localizedFormat.min.js"></script> <script defer src="/blog/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/blog/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-B88HEPZBVJ"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-B88HEPZBVJ'); }); </script>
