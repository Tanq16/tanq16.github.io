<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume - Tanishq Rupaal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- JSON->YAML conversion -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    
    <style>
        body { 
            font-family: 'Open Sans', sans-serif; 
            background-color: #525252; 
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 2rem 0;
            min-height: 100vh;
        }
        h1, h2, h3 { font-family: 'Montserrat', sans-serif; }

        @media print {
            body { 
                background: none; 
                padding: 0; 
                display: block; 
            }
            .no-print { display: none !important; }
            @page {
                size: letter;
                margin: 0;
            }
            .page-container {
                margin: 0 !important;
                box-shadow: none !important;
                border: none !important;
                page-break-after: always;
                break-after: page;
                /* Letter Dimensions */
                width: 216mm !important;
                height: 279mm !important;
                overflow: hidden !important;
                print-color-adjust: exact;
                -webkit-print-color-adjust: exact;
            }
            .page-container:last-child {
                page-break-after: auto;
                break-after: auto;
            }
        }

        .page-container {
            width: 216mm;
            height: 279mm;
            background: white;
            position: relative;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3);
            margin-bottom: 20px;
            overflow: hidden;
            padding: 12mm 25mm 12mm 15mm; 
        }

        .right-sidebar-bg {
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            width: 15mm; 
            background-color: #fff7ed;
            z-index: 0;
        }

        .section-container {
            position: relative; 
            margin-bottom: 1rem;
            padding-top: 1.25rem;
            z-index: 10;
        }

        /* Remove padding for the very first section to avoid double-gap with header */
        .section-container.first-section {
            padding-top: 0;
        }

        .section-title {
            display: inline-block;
            border-bottom: 4px solid #ffedd5;
            padding-bottom: 2px;
            margin-bottom: 0.75rem;
            font-size: 1.4rem;
            color: #374151;
            font-weight: 600;
            text-transform: capitalize;
        }

        .section-icon {
            position: absolute;
            right: -21mm; 
            top: 1.25rem;
            width: 24px;
            height: 24px;
            color: #4b5563;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .section-container.first-section .section-icon {
            top: 0;
        }

        ul.level-1 > li { 
            list-style-type: none; 
            position: relative; 
            padding-left: 1.25rem; 
            margin-bottom: 0.5rem; 
        }
        ul.level-1 > li::before {
            content: '•'; position: absolute; left: 0; color: #1f2937; font-weight: bold; font-size: 1.2em; line-height: 1.2rem;
        }

        ul.level-2 { margin-top: 0.2rem; }
        ul.level-2 > li { 
            list-style-type: none; position: relative; padding-left: 1.25rem; margin-bottom: 0.1rem; color: #4b5563; font-size: 0.9em; line-height: 1.4;
        }
        ul.level-2 > li::before {
            content: '○'; position: absolute; left: 0.1rem; color: #9ca3af; font-size: 0.7em; top: 0.25em;
        }

        .modal { transition: opacity 0.25s ease; }
        body.modal-active { overflow: hidden; }
        .hidden { display: none; }
    </style>
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-51FXJVSNB5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-51FXJVSNB5');
</script>
<body>

    <button onclick="toggleModal('modal-id')" class="no-print fixed top-6 right-6 bg-gray-900 hover:bg-black text-white px-6 py-3 rounded-full shadow-xl hover:scale-105 transition-transform font-semibold flex items-center gap-2 z-50">
        <i data-lucide="download" class="w-4 h-4"></i> Download
    </button>

    <div class="modal opacity-0 pointer-events-none fixed w-full h-full top-0 left-0 flex items-center justify-center z-50 no-print hidden" id="modal-id">
        <div class="modal-overlay absolute w-full h-full bg-gray-900 opacity-50" onclick="toggleModal('modal-id')"></div>
        <div class="modal-container bg-white w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto">
            <div class="modal-content py-4 text-left px-6">
                <div class="flex justify-between items-center pb-3 border-b mb-4">
                    <p class="text-xl font-bold text-gray-800">Export Resume</p>
                    <div class="modal-close cursor-pointer" onclick="toggleModal('modal-id')"><i data-lucide="x" class="w-5 h-5"></i></div>
                </div>
                <div class="flex flex-col gap-3">
                    <button onclick="window.print(); toggleModal('modal-id')" class="flex items-center justify-between w-full bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold py-3 px-4 rounded transition-colors group">
                        <span class="flex items-center gap-3"><i data-lucide="printer" class="w-5 h-5 text-gray-600 group-hover:text-black"></i> Print to PDF</span>
                        <span class="text-xs font-normal bg-gray-300 px-2 py-1 rounded">Default</span>
                    </button>
                    <button onclick="downloadJSON()" class="flex items-center justify-start gap-3 w-full bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold py-3 px-4 rounded transition-colors group">
                        <i data-lucide="file-json" class="w-5 h-5 text-blue-600"></i> Download JSON
                    </button>
                    <button onclick="downloadYAML()" class="flex items-center justify-start gap-3 w-full bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold py-3 px-4 rounded transition-colors group">
                        <i data-lucide="file-code" class="w-5 h-5 text-purple-600"></i> Download YAML
                    </button>
                </div>
                <div class="flex justify-end pt-4 mt-4 border-t">
                    <button class="text-sm text-gray-500 hover:text-gray-800" onclick="toggleModal('modal-id')">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <div id="app-root" class="flex flex-col items-center w-full">
        <!-- Pages will be injected here -->
    </div>

    <div id="staging-area" class="absolute top-0 left-0 opacity-0 pointer-events-none" style="width: 170mm;"></div>

    <script src="/resume/js/definitions.js"></script>
    <script src="/resume/js/main.js"></script>
</body>
</html>
